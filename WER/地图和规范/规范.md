# WER机器人代码编写规范v0.2

## 零、名词解释

1.路口:黑线交叉的点。  
2.可变点:由一条黑线延伸到的模型摆放的位置。  
3.端点:路口和可变点统称端点。  
4.路线:夹在两个端点中的线。  

## 一、命名风格

1.路口用`Rx`表示,可变点用`Nx`表示，路线用`Lx`表示，楼层用`Hx`表示。在没有歧义的情况下，楼层可以省略不写。 **基地编号默认为0。**  
2.任务程序的子程序名为任务名。  
3.线路模块的子程序名为`路线_路口`。 **特殊情况也可以自行规定。** 例如，小车要L2跑到R10，则模块名为 `L2_R10`。具体请看`tests\roads\example.flw`。      

## 二、封装规范

1.所有任务模块都需要封装为子程序。一般地，任务子程序的封装开始于启动马达 **（仅为了启动用，可设置为0.01秒）** 和一个按时巡线模块，将小车送到可变点附近的位置。同时封装结束于可变点所在的路线。（一般不用掉头）此点将有利于半调试，即在某一段地图中进行调试。  
2.路线模块一般按照线到点(`LineToRoad`)规范编写。一般地，封装起始于启动马达，结束于巡线。即小车开始于一条确定的路线，停止于一个确定的路口。 **需在子程序的最后一个模块用注释写出小车的方向。** 每一楼的路线都应写成一个文件。 文件名采用`xfloor`的命名方式。如果一个流程图文件放不下一个楼层的地图，采用`xfloor_partx`的命名方式。

## 三、注释及其它

1.在任务之外的巡线中， **巡线速度建议值为80。** 不同需加上注释。在任务子程序中可以自行规定而不说明。  
2.每个巡线模块必须添加注释，内容为巡线的目标路口。  
3.对子程序的说明及注释请在 **流程图外对应位置贴一个巡线加注释，并以`#`开始。**  
![注释示例](https://i.loli.net/2019/04/02/5ca372a5d950e.jpg "注释示例")

4.原则上，每个任务完成后，须对实机模型进行拍照记录。并改好文件名放在对应文件夹中。  
5.每次commit需要认真填写summary。

## 四、地图与标注

见附

---

![二楼地图](https://i.loli.net/2019/04/01/5ca19648ad4b5.png "二楼地图")

---

![一楼地图](https://i.loli.net/2019/04/01/5ca19648c54f5.png "一楼地图")

LKY
这规范简洁明了,<s>还看不懂的人可真是少有</s>
2019-04-05 19:05:08
